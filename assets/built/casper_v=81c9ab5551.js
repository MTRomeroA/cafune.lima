!function(r){"use strict";r.fn.fitVids=function(e){var t,o,i={customSelector:null,ignore:null};return document.getElementById("fit-vids-style")||(t=document.head||document.getElementsByTagName("head")[0],(o=document.createElement("div")).innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',t.appendChild(o.childNodes[1])),e&&r.extend(i,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];i.customSelector&&e.push(i.customSelector);var n=".fitvidsignore";i.ignore&&(n=n+", "+i.ignore);e=r(this).find(e.join(","));(e=(e=e.not("object object")).not(n)).each(function(){var e,t,o=r(this);0<o.parents(n).length||"embed"===this.tagName.toLowerCase()&&o.parent("object").length||o.parent(".fluid-width-video-wrapper").length||(o.css("height")||o.css("width")||!isNaN(o.attr("height"))&&!isNaN(o.attr("width"))||(o.attr("height",9),o.attr("width",16)),e=("object"===this.tagName.toLowerCase()||o.attr("height")&&!isNaN(parseInt(o.attr("height"),10))?parseInt(o.attr("height"),10):o.height())/(isNaN(parseInt(o.attr("width"),10))?o.width():parseInt(o.attr("width"),10)),o.attr("name")||(t="fitvid"+r.fn.fitVids._count,o.attr("name",t),r.fn.fitVids._count++),o.wrap('<div class="fluid-width-video-container"><div class="fluid-width-video-wrapper"></div></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),o.removeAttr("height").removeAttr("width"))})})},r.fn.fitVids._count=0}(window.jQuery||window.Zepto),function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof exports?t(exports):(t(t={}),e.bodyScrollLock=t)}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t,o=!1;"undefined"!=typeof window&&(window.addEventListener("testPassive",null,t={get passive(){o=!0}}),window.removeEventListener("testPassive",null,t));function i(t){return s.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})}function r(e){return e=e||window.event,!!i(e.target)||(1<e.touches.length||(e.preventDefault&&e.preventDefault(),!1))}function n(){void 0!==f&&(document.body.style.paddingRight=f,f=void 0),void 0!==u&&(document.body.style.overflow=u,u=void 0)}function d(){var e,t;void 0!==v&&(e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10),document.body.style.position=v.position,document.body.style.top=v.top,document.body.style.left=v.left,window.scrollTo(t,e),v=void 0)}var l="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&1<window.navigator.maxTouchPoints),s=[],c=!1,a=-1,u=void 0,v=void 0,f=void 0;e.disableBodyScroll=function(n,e){var t;n?s.some(function(e){return e.targetElement===n})||(t={targetElement:n,options:e||{}},s=[].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(s),[t]),l?window.requestAnimationFrame(function(){var e,t,o,n;void 0===v&&(v={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left},e=window,t=e.scrollY,o=e.scrollX,n=e.innerHeight,document.body.style.position="fixed",document.body.style.top=-t+"px",document.body.style.left=-o+"px",setTimeout(function(){return window.requestAnimationFrame(function(){var e=n-window.innerHeight;e&&n<=t&&(document.body.style.top=-(t+e))})},300))}):(t=e,void 0===f&&(e=!!t&&!0===t.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth,e&&0<t&&(e=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10),f=document.body.style.paddingRight,document.body.style.paddingRight=e+t+"px")),void 0===u&&(u=document.body.style.overflow,document.body.style.overflow="hidden")),l&&(n.ontouchstart=function(e){1===e.targetTouches.length&&(a=e.targetTouches[0].clientY)},n.ontouchmove=function(e){var t,o;1===e.targetTouches.length&&(o=n,e=(t=e).targetTouches[0].clientY-a,i(t.target)||(o&&0===o.scrollTop&&0<e||!!(o=o)&&o.scrollHeight-o.scrollTop<=o.clientHeight&&e<0?r(t):t.stopPropagation()))},c||(document.addEventListener("touchmove",r,o?{passive:!1}:void 0),c=!0))):console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},e.clearAllBodyScrollLocks=function(){l&&(s.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),c&&(document.removeEventListener("touchmove",r,o?{passive:!1}:void 0),c=!1),a=-1),(l?d:n)(),s=[]},e.enableBodyScroll=function(t){t?(s=s.filter(function(e){return e.targetElement!==t}),l&&(t.ontouchstart=null,t.ontouchmove=null,c&&0===s.length&&(document.removeEventListener("touchmove",r,o?{passive:!1}:void 0),c=!1)),(l?d:n)()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.")}}),function(e){e.addEventListener("DOMContentLoaded",function(){e.querySelectorAll(".kg-gallery-image img").forEach(function(e){var t=e.closest(".kg-gallery-image"),e=e.attributes.width.value/e.attributes.height.value;t.style.flex=e+" 1 0%"})})}((window,document)),function(t,o){var n,i,r,d,l,s,c,a=o.querySelector("link[rel=next]");function u(){if(404===this.status)return t.removeEventListener("scroll",f),void t.removeEventListener("resize",m);this.response.querySelectorAll(".post-card").forEach(function(e){n.appendChild(o.importNode(e,!0))});var e=this.response.querySelector("link[rel=next]");e?a.href=e.href:(t.removeEventListener("scroll",f),t.removeEventListener("resize",m)),c=o.documentElement.scrollHeight,d=r=!1}function e(){var e;d||(l+s<=c-i?r=!1:(d=!0,(e=new t.XMLHttpRequest).responseType="document",e.addEventListener("load",u),e.open("GET",a.href),e.send(null)))}function v(){r||t.requestAnimationFrame(e),r=!0}function f(){l=t.scrollY,v()}function m(){s=t.innerHeight,c=o.documentElement.scrollHeight,v()}!a||(n=o.querySelector(".post-feed"))&&(d=r=!(i=300),l=t.scrollY,s=t.innerHeight,c=o.documentElement.scrollHeight,t.addEventListener("scroll",f,{passive:!0}),t.addEventListener("resize",m),v())}(window,document),function(d,l){d.Casper||(d.Casper={}),d.Casper.stickyNavTitle=function(e){var t=l.querySelector(e.navSelector),o=l.querySelector(e.titleSelector),n=d.scrollY,i=!1;function r(){o.getBoundingClientRect().top+d.scrollY+(o.offsetHeight+35)<=n?t.classList.add(e.activeClass):t.classList.remove(e.activeClass),i=!1}d.addEventListener("scroll",function(){n=d.scrollY,function(){i||requestAnimationFrame(r);i=!0}()},{passive:!0}),r()}}(window,document);
//# sourceMappingURL=casper.js.map